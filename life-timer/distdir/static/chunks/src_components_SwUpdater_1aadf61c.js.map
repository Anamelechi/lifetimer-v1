{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/SwUpdater.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\n\nexport default function SwUpdater() {\n  useEffect(() => {\n    if (typeof window === \"undefined\" || !(\"serviceWorker\" in navigator)) return;\n\n    let reloaded = false;\n    const onControllerChange = () => {\n      if (reloaded) return;\n      reloaded = true;\n      // New service worker took control; reload to get fresh assets\n      window.location.reload();\n    };\n    navigator.serviceWorker.addEventListener(\"controllerchange\", onControllerChange);\n\n    navigator.serviceWorker.getRegistration().then((reg) => {\n      if (!reg) return;\n      // Try to promote any waiting SW immediately\n      if (reg.waiting) {\n        try { reg.waiting.postMessage({ type: \"SKIP_WAITING\" }); } catch {}\n      }\n      // Trigger an update check\n      try { reg.update(); } catch {}\n      // If a new SW is being installed, nudge it to activate ASAP\n      reg.addEventListener(\"updatefound\", () => {\n        const sw = reg.installing;\n        if (!sw) return;\n        sw.addEventListener(\"statechange\", () => {\n          if (sw.state === \"installed\" && navigator.serviceWorker.controller) {\n            try { reg.waiting?.postMessage({ type: \"SKIP_WAITING\" }); } catch {}\n          }\n        });\n      });\n    });\n\n    return () => {\n      try { navigator.serviceWorker.removeEventListener(\"controllerchange\", onControllerChange); } catch {}\n    };\n  }, []);\n  return null;\n}\n"],"names":[],"mappings":";;;AAEA;;AAFA;;AAIe,SAAS;;IACtB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,aAAkB,eAAe,CAAC,CAAC,mBAAmB,SAAS,GAAG;YAEtE,IAAI,WAAW;YACf,MAAM;0DAAqB;oBACzB,IAAI,UAAU;oBACd,WAAW;oBACX,8DAA8D;oBAC9D,OAAO,QAAQ,CAAC,MAAM;gBACxB;;YACA,UAAU,aAAa,CAAC,gBAAgB,CAAC,oBAAoB;YAE7D,UAAU,aAAa,CAAC,eAAe,GAAG,IAAI;uCAAC,CAAC;oBAC9C,IAAI,CAAC,KAAK;oBACV,4CAA4C;oBAC5C,IAAI,IAAI,OAAO,EAAE;wBACf,IAAI;4BAAE,IAAI,OAAO,CAAC,WAAW,CAAC;gCAAE,MAAM;4BAAe;wBAAI,EAAE,UAAM,CAAC;oBACpE;oBACA,0BAA0B;oBAC1B,IAAI;wBAAE,IAAI,MAAM;oBAAI,EAAE,UAAM,CAAC;oBAC7B,4DAA4D;oBAC5D,IAAI,gBAAgB,CAAC;+CAAe;4BAClC,MAAM,KAAK,IAAI,UAAU;4BACzB,IAAI,CAAC,IAAI;4BACT,GAAG,gBAAgB,CAAC;uDAAe;oCACjC,IAAI,GAAG,KAAK,KAAK,eAAe,UAAU,aAAa,CAAC,UAAU,EAAE;wCAClE,IAAI;gDAAE;6CAAA,eAAA,IAAI,OAAO,cAAX,mCAAA,aAAa,WAAW,CAAC;gDAAE,MAAM;4CAAe;wCAAI,EAAE,UAAM,CAAC;oCACrE;gCACF;;wBACF;;gBACF;;YAEA;uCAAO;oBACL,IAAI;wBAAE,UAAU,aAAa,CAAC,mBAAmB,CAAC,oBAAoB;oBAAqB,EAAE,UAAM,CAAC;gBACtG;;QACF;8BAAG,EAAE;IACL,OAAO;AACT;GAtCwB;KAAA","debugId":null}}]
}